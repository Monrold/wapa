---
import Layout from "../../../layouts/Layout-manual.astro";
import tricologia from "../../../images/tricologia.jpg";
import estructura from "../../../images/ebook/estructura.webp";
import Indice from "../../../components/indice.astro";
import tallo from "../../../images/ebook/tallo.jpg";
import cuticula from "../../../images/ebook/cuticula.jpg";
import phImage from "../../../images/ebook/ph-image.png";
import Ph from "../../../components/manual/potencial-de-hidrogeno.astro";
import Porosidad from "../../../components/manual/porocidad.astro";
import Tipodano from "../../../components/manual/tipo-dano.astro";
import Nocourse from "../../../components/Nocourse.astro";
import { supabase } from "../../../lib/supabase";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (!accessToken || !refreshToken) {
  return redirect("/signin");
}

const { data, error } = await supabase.auth.setSession({
  refresh_token: refreshToken.value,
  access_token: accessToken.value,
});
 
if (error) {
  cookies.delete("sb-access-token", {
    path: "/",
  });
  cookies.delete("sb-refresh-token", {
    path: "/",
  });

  return redirect("/signin");
}

const email = data?.user?.email;
const name = data?.user?.user_metadata?.full_name;

// Verificar si el usuario tiene cursos vinculados
let cursosVinculados = [];

const { data: cursosIds, error: cursosError } = await supabase
  .from("usuarios_cursos")
  .select("curso_id")
  .eq("usuario_id", data?.user?.id);

if (cursosError) {
  console.error(
    "Error al verificar los cursos del usuario:",
    cursosError.message,
  );
} else if (cursosIds && cursosIds.length > 0) {
  const ids = cursosIds.map((curso) => curso.curso_id);

  const { data: cursos, error: detallesError } = await supabase
    .from("cursos")
    .select("*")
    .in("id", ids);

  if (detallesError) {
    console.error(
      "Error al obtener los detalles de los cursos:",
      detallesError.message,
    );
  } else {
    cursosVinculados = cursos;
  }
}

// Nuevo: verificar si el usuario tiene el curso "Alaciado"
const tieneCursoAlaciado = cursosVinculados.some(
  (curso) => curso.title && curso.title.toLowerCase().includes("alaciado")
);
---

<Layout title="" description="" lightColor={true}>
    {tieneCursoAlaciado &&
    <div
        class="sticky top-2 z-10 rounded-xl mb-5 mt-10 max-w-screen-lg px-8 mx-auto"
    >
        <Indice />
    </div>
    <div class="max-w-screen-sm mx-auto pb-10 px-6">
        <section class="py-8">
            <div class="">
                <video
                    loop
                    autoplay
                    playsinline
                    muted
                    class="rounded-md"
                    src="https://media.wapastudio.com/tricologia-manual.mp4"
                ></video>
            </div>
            <article id="tricologia" class="bg-white rounded-lg">
                <h2 class="text-3xl font-semibold text-accent mb-10 mt-4">
                    Etapa I: Tricología
                </h2>
                <p class="text-gray-700" id="estructura-del-cabello ">
                    <h2 class="text-2xl text-black font-semibold">
                        ¿Qué es la tricología?
                    </h2>
                    <br />
                    La tricología cosmética se encarga del cuidado y la belleza del
                    cabello, mejorando su apariencia, textura y salud mediante tratamientos
                    y productos específicos.
                </p>
                <p class="text-gray-700 mt-4">
                    Antes de comenzar a trabajar en el cabello, debemos conocer
                    cómo está conformada la fibra capilar, sus propiedades y los
                    puntos más importantes para lograr alisados sanos y
                    exitosos.
                </p>
            </article>
        </section>
        <section class="py-8">
            <article id="estructuraDelCabello" class="bg-white rounded-lg">
                <h2 class="text-2xl font-semibold text-accent mb-2">
                    Estructura del cabello
                </h2>
                <p class="text-gray-700">
                    Nuestro cabello no tiene vida; es una fibra carente de
                    torrentes sanguíneos y fibras nerviosas. Por esta razón, no
                    sentimos dolor al cortarlo, plancharlo o decolorarlo. Sin
                    embargo, cualquier daño que sufra la fibra capilar se
                    considera daño acumulativo, ya que el cabello no tiene la
                    capacidad de regenerarse por sí mismo.
                </p>
            </article>
        </section>
        <section class="py-8">
            <!--el foliculo piloso -->
            <div class="space-y-6 py-3 lg:py-5">
                <div class="basis-1/2 space-y-4">
                    <!-- Título principal -->
                    <h1 class="text-2xl font-bold text-gray-800">
                        1. El Folículo Piloso (Raíz del Cabello)
                    </h1>

                    <!-- Párrafo introductorio -->
                    <p class="text-gray-600">
                        El folículo piloso es la estructura en la piel donde el
                        cabello comienza a crecer. Está ubicado dentro de la
                        dermis, la capa intermedia de la piel, y es responsable
                        de la formación del cabello. El folículo piloso también
                        contiene células especializadas que producen queratina,
                        la proteína principal del cabello.
                    </p>
                    <img class="" src={estructura.src} alt="" />

                    <div id="custom-dropdowns" class="space-y-4">
                        <div class="custom-dropdown">
                            <div
                                class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                tabindex="0"
                                data-dropdown="bulbo"
                            >
                                <span class="text-base">Bulbo piloso</span>
                                <svg
                                    class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                >
                                    <path
                                        d="M8 5l8 7-8 7"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <div
                                class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                style="display: none;"
                                data-content="bulbo"
                            >
                                <p>
                                    En la base del folículo se encuentra el
                                    bulbo piloso, que es donde se forma el
                                    cabello.
                                </p>
                            </div>
                        </div>
                        <div class="custom-dropdown">
                            <div
                                class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                tabindex="0"
                                data-dropdown="papila"
                            >
                                <span class="text-base">Papila dérmica</span>
                                <svg
                                    class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                >
                                    <path
                                        d="M8 5l8 7-8 7"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <div
                                class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                style="display: none;"
                                data-content="papila"
                            >
                                <p>
                                    Es una pequeña estructura en la base del
                                    folículo que está formada por tejido
                                    conectivo y vasos sanguíneos. La papila
                                    dérmica nutre el cabello en crecimiento al
                                    proporcionar nutrientes y oxígeno.
                                </p>
                            </div>
                        </div>
                        <div class="custom-dropdown">
                            <div
                                class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                tabindex="0"
                                data-dropdown="glandulas"
                            >
                                <span class="text-base">Glándulas sebáceas</span
                                >
                                <svg
                                    class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                >
                                    <path
                                        d="M8 5l8 7-8 7"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <div
                                class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                style="display: none;"
                                data-content="glandulas"
                            >
                                <p>
                                    Estas glándulas están ubicadas cerca de los
                                    folículos y secretan sebo, una sustancia
                                    oleosa que lubrica y protege el cabello.
                                </p>
                            </div>
                        </div>
                    </div>
                    <script>
                        document.addEventListener("DOMContentLoaded", () => {
                            const dropdowns = document.querySelectorAll(
                                "#custom-dropdowns .custom-summary",
                            );
                            dropdowns.forEach((summary) => {
                                summary.addEventListener("click", function () {
                                    const key =
                                        summary.getAttribute("data-dropdown");
                                    const content = document.querySelector(
                                        `#custom-dropdowns [data-content="${key}"]`,
                                    ) as HTMLElement;
                                    const angle = summary.querySelector(
                                        ".custom-angle",
                                    ) as HTMLElement;
                                    // Cerrar otros
                                    document
                                        .querySelectorAll(
                                            "#custom-dropdowns .custom-list",
                                        )
                                        .forEach((el) => {
                                            if (el !== content)
                                                (
                                                    el as HTMLElement as HTMLElement
                                                ).style.display = "none";
                                        });
                                    document
                                        .querySelectorAll(
                                            "#custom-dropdowns .custom-angle",
                                        )
                                        .forEach((el) => {
                                            if (el !== angle)
                                                (
                                                    el as HTMLElement
                                                ).style.transform = "";
                                        });
                                    // Toggle actual
                                    if (
                                        !content.style.display ||
                                        content.style.display === "none"
                                    ) {
                                        content.style.display = "block";
                                        angle.style.transform = "rotate(90deg)";
                                    } else {
                                        content.style.display = "none";
                                        angle.style.transform = "";
                                    }
                                });
                                summary.addEventListener(
                                    "keydown",
                                    function (e: KeyboardEvent) {
                                        if (
                                            e.key === "Enter" ||
                                            e.key === " "
                                        ) {
                                            e.preventDefault();
                                            (summary as HTMLElement).click();
                                        }
                                    },
                                );
                            });
                        });
                    </script>

                    <!-- Nota final -->
                    <p class="text-sm text-gray-500 italic">
                        El folículo piloso es la única parte con vida, el tallo
                        del cabello no tiene terminaciones nerviosas, por lo que
                        el daño que se genera en este no desaparece; todo es
                        acumulativo.
                    </p>
                </div>
            </div>
        </section>
        <section class="py=8">
            <!--2. Adentrémonos en el tallo del cabello: -->
            <div class="relative py-3 lg:py-5" id="tallo-del-cabello">
                <div class="basis-1/2 space-y-4">
                    <!-- Título principal -->
                    <h2 class="text-2xl font-bold text-gray-800">
                        2. Adentrémonos en el tallo del cabello:
                    </h2>
                    <div class="hidden: sm:block">
                        <img src={tallo.src} alt="" />
                    </div>
                    <!-- Párrafo introductorio -->
                    <p class="text-gray-600">
                        El tallo del cabello está compuesto por tres capas
                        principales: la <strong>médula</strong>, el <strong
                            >córtex</strong
                        > y la <strong>cutícula</strong>, y cada una cumple una
                        función esencial para su estructura, fortaleza y
                        apariencia.
                    </p>

                    <div id="custom-dropdowns-tallo" class="space-y-4">
                        <div class="custom-dropdown">
                            <div
                                class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                tabindex="0"
                                data-dropdown="medula"
                            >
                                <span class="text-base">Médula</span>
                                <svg
                                    class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                >
                                    <path
                                        d="M8 5l8 7-8 7"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <div
                                class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                style="display: none;"
                                data-content="medula"
                            >
                                <p>
                                    Es la capa más interna del cabello. Está
                                    formada por células suaves y queratina, es
                                    por ello que la mayoría de productos
                                    alisantes contienen queratina.
                                </p>
                            </div>
                        </div>
                        <div class="custom-dropdown">
                            <div
                                class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                tabindex="0"
                                data-dropdown="cortex"
                            >
                                <span class="text-base">Córtex</span>
                                <svg
                                    class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                >
                                    <path
                                        d="M8 5l8 7-8 7"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <div
                                class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                style="display: none;"
                                data-content="cortex"
                            >
                                <div>
                                    <p>
                                        Es la capa central y más importante, ya
                                        que representa la mayor parte del
                                        cabello. Está compuesto por fibras de
                                        queratina, responsables de su fuerza,
                                        elasticidad y flexibilidad. Aquí se
                                        encuentra la <strong>melanina</strong>,
                                        que determina el color natural del
                                        cabello. Además, el córtex es clave en
                                        la resistencia del cabello y es la capa
                                        donde se realizan cambios con
                                        tratamientos químicos, como tintes o
                                        alisados, ya que aquí se encuentran los
                                        puentes estructurales.
                                    </p>
                                    <p class="font-semibold mt-4">
                                        ¿Qué son estos puentes?
                                    </p>
                                    <p>
                                        Los puentes estructurales del cabello
                                        son las uniones químicas que mantienen
                                        la forma, fuerza y elasticidad de la
                                        fibra capilar. Hay tres tipos
                                        principales:
                                    </p>
                                    <div
                                        id="custom-dropdowns-puentes"
                                        class="space-y-2"
                                    >
                                        <div class="custom-dropdown">
                                            <div
                                                class="px-2 custom-summary flex items-center justify-between cursor-pointer text-base font-medium py-2 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                                tabindex="0"
                                                data-dropdown="hidrogeno"
                                            >
                                                <span
                                                    >1. Puentes de hidrógeno</span
                                                >
                                                <svg
                                                    class="custom-angle w-4 h-4 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                                    viewBox="0 0 24 24"
                                                    fill="none"
                                                >
                                                    <path
                                                        d="M8 5l8 7-8 7"
                                                        stroke="currentColor"
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                    ></path>
                                                </svg>
                                            </div>
                                            <div
                                                class="custom-list my-1 ml-4 pl-2 pr-2 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                                style="display: none;"
                                                data-content="hidrogeno"
                                            >
                                                <p>
                                                    <strong
                                                        >Cómo funcionan:</strong
                                                    > Se forman y rompen fácilmente
                                                    con la humedad. Por ejemplo,
                                                    cuando mojas el cabello estos
                                                    enlaces se rompen. Una vez seco,
                                                    los enlaces se forman de nuevo,
                                                    volviendo el cabello a su estado
                                                    natural.
                                                </p>
                                                <p>
                                                    <strong>Importante:</strong>
                                                    Son los más débiles, pero hay
                                                    muchos, lo que contribuye a la
                                                    estructura general del cabello.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="custom-dropdown">
                                            <div
                                                class="px-2 custom-summary flex items-center justify-between cursor-pointer text-base font-medium py-2 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                                tabindex="0"
                                                data-dropdown="salinos"
                                            >
                                                <span
                                                    >2. Puentes salinos o
                                                    iónicos</span
                                                >
                                                <svg
                                                    class="custom-angle w-4 h-4 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                                    viewBox="0 0 24 24"
                                                    fill="none"
                                                >
                                                    <path
                                                        d="M8 5l8 7-8 7"
                                                        stroke="currentColor"
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                    ></path>
                                                </svg>
                                            </div>
                                            <div
                                                class="custom-list my-1 ml-4 pl-2 pr-2 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                                style="display: none;"
                                                data-content="salinos"
                                            >
                                                <p>
                                                    <strong
                                                        >Cómo funcionan:</strong
                                                    > Estos se rompen con calor como
                                                    cuando pasas la plancha. El cabello
                                                    durará liso hasta que lo laves
                                                    de nuevo.
                                                </p>
                                                <p>
                                                    <strong>Importante:</strong>
                                                    Son más fuertes que los puentes
                                                    de hidrógeno, pero más débiles
                                                    que los disulfuro.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="custom-dropdown">
                                            <div
                                                class="px-2 custom-summary flex items-center justify-between cursor-pointer text-base font-medium py-2 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                                tabindex="0"
                                                data-dropdown="disulfuro"
                                            >
                                                <span
                                                    >3. Puentes de disulfuro</span
                                                >
                                                <svg
                                                    class="custom-angle w-4 h-4 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                                    viewBox="0 0 24 24"
                                                    fill="none"
                                                >
                                                    <path
                                                        d="M8 5l8 7-8 7"
                                                        stroke="currentColor"
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                    ></path>
                                                </svg>
                                            </div>
                                            <div
                                                class="custom-list my-1 ml-4 pl-2 pr-2 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                                style="display: none;"
                                                data-content="disulfuro"
                                            >
                                                <p>
                                                    <strong
                                                        >Cómo funcionan:</strong
                                                    > Son responsables de la fuerza
                                                    y forma permanente del cabello
                                                    (liso, ondulado o rizado). Estos
                                                    enlaces solo pueden romperse
                                                    con productos químicos fuertes,
                                                    como tintes, permanentes o alisados
                                                    químicos. Al romperlos, se puede
                                                    cambiar la estructura del cabello
                                                    de forma duradera.
                                                </p>
                                                <p>
                                                    <strong>Importante:</strong>
                                                    Son los más fuertes y cruciales
                                                    para la salud del cabello. Si
                                                    se dañan, el cabello se debilita
                                                    significativamente.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <script>
                                        document.addEventListener(
                                            "DOMContentLoaded",
                                            () => {
                                                const dropdowns =
                                                    document.querySelectorAll(
                                                        "#custom-dropdowns-puentes .custom-summary",
                                                    );
                                                dropdowns.forEach((summary) => {
                                                    summary.addEventListener(
                                                        "click",
                                                        function () {
                                                            const key =
                                                                summary.getAttribute(
                                                                    "data-dropdown",
                                                                );
                                                            const content =
                                                                document.querySelector(
                                                                    `[data-content="${key}"]`,
                                                                );
                                                            const angle =
                                                                summary.querySelector(
                                                                    ".custom-angle",
                                                                );
                                                            document
                                                                .querySelectorAll(
                                                                    "#custom-dropdowns-puentes .custom-list",
                                                                )
                                                                .forEach(
                                                                    (el) => {
                                                                        if (
                                                                            el !==
                                                                            content
                                                                        )
                                                                            (
                                                                                el as HTMLElement
                                                                            ).style.display =
                                                                                "none";
                                                                    },
                                                                );
                                                            document
                                                                .querySelectorAll(
                                                                    "#custom-dropdowns-puentes .custom-angle",
                                                                )
                                                                .forEach(
                                                                    (el) => {
                                                                        if (
                                                                            el !==
                                                                            angle
                                                                        )
                                                                            (
                                                                                el as HTMLElement
                                                                            ).style.transform =
                                                                                "";
                                                                    },
                                                                );
                                                            if (
                                                                (
                                                                    content as HTMLElement
                                                                ).style
                                                                    .display ===
                                                                    "none" ||
                                                                !(
                                                                    content as HTMLElement
                                                                ).style.display
                                                            ) {
                                                                (
                                                                    content as HTMLElement
                                                                ).style.display =
                                                                    "block";
                                                                (
                                                                    angle as HTMLElement
                                                                ).style.transform =
                                                                    "rotate(90deg)";
                                                            } else {
                                                                (
                                                                    content as HTMLElement
                                                                ).style.display =
                                                                    "none";
                                                                (
                                                                    angle as HTMLElement
                                                                ).style.transform =
                                                                    "";
                                                            }
                                                        },
                                                    );
                                                    summary.addEventListener(
                                                        "keydown",
                                                        function (
                                                            e: KeyboardEvent,
                                                        ) {
                                                            if (
                                                                e.key ===
                                                                    "Enter" ||
                                                                e.key === " "
                                                            ) {
                                                                e.preventDefault();
                                                                (
                                                                    summary as HTMLElement
                                                                ).click();
                                                            }
                                                        },
                                                    );
                                                });
                                            },
                                        );
                                    </script>
                                    <p class="pt-2">
                                        <strong>¿Cómo se modifican?</strong><br
                                        />
                                        Estos enlaces se alteran mediante procesos
                                        químicos como la decoloración o los alisados
                                        alcalinos (alisados permanentes). En contraste,
                                        los alisados ácidos (alisados progresivos)
                                        no rompen los enlaces de disulfuro, sino
                                        que los transforman.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="custom-dropdown">
                            <div
                                class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                tabindex="0"
                                data-dropdown="cuticula"
                            >
                                <span class="text-base">Cutícula</span>
                                <svg
                                    class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                >
                                    <path
                                        d="M8 5l8 7-8 7"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"></path>
                                </svg>
                            </div>
                            <div
                                class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                style="display: none;"
                                data-content="cuticula"
                            >
                                <div class="space-y-3">
                                    <p>
                                        Es la capa externa del cabello y está
                                        formada por células planas, escamosas y
                                        transparentes que se superponen unas
                                        sobre otras como las tejas de un techo.
                                    </p>
                                    <img src={cuticula.src} alt="" />
                                    <p>
                                        Su principal función es proteger las
                                        capas internas del cabello. La cutícula
                                        es la que da brillo al cabello y, cuando
                                        está sana, refleja la luz. Si las
                                        células de la cutícula están bien
                                        alineadas y no están dañadas, el cabello
                                        se ve suave y brillante.
                                    </p>
                                    <p>
                                        <strong>Daño a la cutícula:</strong> Si la
                                        cutícula se daña, las células se levantan,
                                        lo que puede hacer que el cabello se vea
                                        opaco, áspero o incluso quebradizo. El daño
                                        puede ser causado por el uso excesivo de
                                        calor, productos químicos, peinado agresivo,
                                        entre otros.
                                    </p>
                                    <p>
                                        Cuando se realiza un alisado, el
                                        producto necesita llegar al córtex (la
                                        capa interna del cabello) para modificar
                                        su estructura. Para que esto ocurra, el
                                        producto debe penetrar la cutícula, que
                                        es la capa externa del cabello. Si la
                                        cutícula está levantada (cabello con
                                        porosidad alta), el producto puede
                                        entrar más fácilmente en el córtex, pero
                                        el alisado tendrá menor duración.
                                    </p>
                                    <p>
                                        Por otro lado, si la cutícula está
                                        cerrada o sellada, será más difícil que
                                        el producto entre en el córtex. Sin
                                        embargo, esto no significa que sea
                                        imposible. Solo necesitamos preparar el
                                        cabello adecuadamente para que el
                                        producto pueda penetrar y lograr un buen
                                        resultado.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <script>
                        document.addEventListener("DOMContentLoaded", () => {
                            // Script para dropdowns de #custom-dropdowns-tallo
                            const talloDropdowns = document.querySelectorAll(
                                "#custom-dropdowns-tallo .custom-summary",
                            );
                            talloDropdowns.forEach((summary) => {
                                summary.addEventListener("click", function () {
                                    const key =
                                        summary.getAttribute("data-dropdown");
                                    const content = document.querySelector(
                                        `#custom-dropdowns-tallo [data-content="${key}"]`,
                                    );
                                    const angle =
                                        summary.querySelector(".custom-angle");
                                    // Cerrar otros
                                    document
                                        .querySelectorAll(
                                            "#custom-dropdowns-tallo .custom-list",
                                        )
                                        .forEach((el) => {
                                            if (el !== content)
                                                (
                                                    el as HTMLElement
                                                ).style.display = "none";
                                        });
                                    document
                                        .querySelectorAll(
                                            "#custom-dropdowns-tallo .custom-angle",
                                        )
                                        .forEach((el) => {
                                            if (el !== angle)
                                                (
                                                    el as HTMLElement
                                                ).style.transform = "";
                                        });
                                    // Toggle actual
                                    const contentEl = content as HTMLElement;
                                    if (
                                        !contentEl.style.display ||
                                        contentEl.style.display === "none"
                                    ) {
                                        contentEl.style.display = "block";
                                        (angle as HTMLElement).style.transform =
                                            "rotate(90deg)";
                                    } else {
                                        contentEl.style.display = "none";
                                        (angle as HTMLElement).style.transform =
                                            "";
                                    }
                                });
                                summary.addEventListener(
                                    "keydown",
                                    function (e: KeyboardEvent) {
                                        if (
                                            e.key === "Enter" ||
                                            e.key === " "
                                        ) {
                                            e.preventDefault();
                                            (summary as HTMLElement).click();
                                        }
                                    },
                                );
                            });

                            // Script para dropdowns de #custom-dropdowns-puentes (si existen)
                            const puentesDropdowns = document.querySelectorAll(
                                "#custom-dropdowns-puentes .custom-summary",
                            );
                            puentesDropdowns.forEach((summary) => {
                                summary.addEventListener("click", function () {
                                    const key =
                                        summary.getAttribute("data-dropdown");
                                    const content = document.querySelector(
                                        `#custom-dropdowns-puentes [data-content="${key}"]`,
                                    );
                                    const angle =
                                        summary.querySelector(".custom-angle");
                                    document
                                        .querySelectorAll(
                                            "#custom-dropdowns-puentes .custom-list",
                                        )
                                        .forEach((el) => {
                                            if (el !== content)
                                                (
                                                    el as HTMLElement
                                                ).style.display = "none";
                                        });
                                    document
                                        .querySelectorAll(
                                            "#custom-dropdowns-puentes .custom-angle",
                                        )
                                        .forEach((el) => {
                                            if (el !== angle)
                                                (
                                                    el as HTMLElement
                                                ).style.transform = "";
                                        });
                                    if (
                                        !(content as HTMLElement).style
                                            .display ||
                                        (content as HTMLElement).style
                                            .display === "none"
                                    ) {
                                        (content as HTMLElement).style.display =
                                            "block";
                                        (angle as HTMLElement).style.transform =
                                            "rotate(90deg)";
                                    } else {
                                        (content as HTMLElement).style.display =
                                            "none";
                                        (angle as HTMLElement).style.transform =
                                            "";
                                    }
                                });
                                summary.addEventListener(
                                    "keydown",
                                    function (e: KeyboardEvent) {
                                        if (
                                            e.key === "Enter" ||
                                            e.key === " "
                                        ) {
                                            e.preventDefault();
                                            (summary as HTMLElement).click();
                                        }
                                    },
                                );
                            });
                        });
                    </script>

                    <p class="text-sm text-gray-500 italic">
                        En conjunto, estas tres capas trabajan para mantener el
                        cabello fuerte, flexible y protegido. Por eso, es
                        fundamental cuidar especialmente la cutícula, ya que una
                        cutícula en buen estado no solo mejora la apariencia del
                        cabello, sino que también protege su interior y ayuda a
                        conservar su salud.
                    </p>
                </div>
            </div>
        </section>
       <Ph />
        <video
            loop
            autoplay
            playsinline
            muted
            class="rounded-md mb-5"
            src="https://media.wapastudio.com/lavando-cabello.mp4"></video>

        <Porosidad />
        <Tipodano />
        <!--Boton siguiente tema  -->
    </div>
    <div class="flex justify-between items-center mx-auto mb-10 max-w-xs gap-4">
        <a
            href="/dashboard"
            class="inline-flex items-center px-6 py-3 rounded-lg font-semibold text-lg transition-all duration-200
           text-yellow-800 bg-gradient-to-r from-[#ffe082] to-[#fff8e1]
           hover:from-[#ffd54f] hover:to-[#fff3c0]"
        >
            <svg
                class="mr-2 w-6 h-6 text-yellow-700"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15 19l-7-7 7-7"></path>
            </svg>
            Anterior
        </a>
        <a
            href="/cursos/alisado/diagnostico"
            class="inline-flex items-center px-6 py-3 rounded-lg font-semibold text-lg transition-all duration-200
           text-yellow-800 bg-gradient-to-r from-[#ffe082] to-[#fff8e1]
           hover:from-[#ffd54f] hover:to-[#fff3c0]"
        >
            Siguiente
            <svg
                class="ml-2 w-6 h-6 text-yellow-700"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M9 5l7 7-7 7"></path>
            </svg>
        </a>
    </div>
    }
    {
    !tieneCursoAlaciado && 
  <Nocourse />
  }
</Layout>
