---
import Layout from "../../layouts/Layout.astro";
import alaciado from "../../images/index/alaciado.webp";
import botox from "../../images/index/botox.webp";
---

<Layout
    title="Detalle del Producto"
    description="Explora nuestro producto en detalle"
    lightColor={true}
>
    <section class="bg-white">
        <!-- Detalle del producto -->
        <div class="max-w-screen-lg px-4 mx-auto pb-4">
            <a href="/tienda" class="hover:text-[#917763]">
                <span>&larr;</span> Ir a tienda</a
            >
        </div>

        <div
            class="max-w-screen-lg mx-auto pb-12 px-4 grid grid-cols-1 md:grid-cols-2 gap-8"
        >
            <!-- Carrusel de im√°genes -->
            <div class="relative">
                <div class="carousel h-full">
                    <img
                        src="https://media.wapastudio.com/keratina-dashboard-tienda.webp"
                        alt="Producto imagen 1"
                        class="w-full h-80 md:h-full object-cover rounded-lg shadow-md"
                    />
                    <!-- Agrega m√°s im√°genes al carrusel aqu√≠ -->
                </div>
            </div>

            <!-- Informaci√≥n del producto -->
            <div class="space-y-6">
                <h1 class="text-3xl font-bold">Encerado Capilar</h1>
                <div class="p-2">
                    <p class="text-gray-700 mb-4">
                        Logra un cabello liso, brillante ‚ú® y sedoso con resultados
                        que duran de 4 a 6 meses üóìÔ∏è. Este tratamiento es ideal para
                        eliminar el frizz y mejorar la textura de cabellos semi
                        ondulados, incluso con decoloraci√≥n.
                    </p>
                    <ul class="list-disc pl-5 text-gray-700 space-y-2">
                        <li>Alisa entre un 70% y 80%.</li>
                        <li>Aumenta el brillo, suavidad y sedosidad.</li>
                        <li>Apto para cabello decolorado y semi ondulado.</li>
                        <li>Elimina el frizz en cabellos lisos.</li>
                        <li>Duraci√≥n de 4 a 6 meses.</li>
                        <li>Lavado permitido despu√©s de 24 horas.</li>
                    </ul>
                </div>
                <div class="text-2xl font-semibold  text-gray-800">
                    <p>
                        Precio por litro: <span class="text-[#917763]"
                            >$1,200</span
                        ><span class="text-[#917763]"> mxn</span>
                    </p>
                </div>
                <a
                    href="https://wa.link/w2lw5c"
                    class="inline-block px-6 py-3 bg-[#917763] text-white text-sm font-medium rounded shadow hover:bg-[#6A5341]"
                >
                    <div class="flex items-center">
                        <svg
                            class="fill-white w-4 mr-2"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 448 512"
                            ><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                            <path
                                d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"
                            ></path></svg
                        >
                        <p>Comprar ahora</p>
                    </div>
                </a>
            </div>
        </div>
        <div class="md:flex max-w-screen-lg mx-auto border-y border-gray-100 py-10 my-10 px-4 lg:px-0">
            <div class="md:w-1/2 mb-10">
                <h1 class="flex items-center justify-center h-full text-7xl">Descubre los grandes resultados que puedes lograr</h1>
            </div>
            <!-- slash before and after  -->
            <div class="md:w-1/2">
                <div class="relative w-full max-w-4xl mx-auto h-[50vh]">
                    <!-- Contenedor principal -->
                    <div class="relative w-full h-full overflow-hidden rounded-lg">
                        <!-- Imagen del "Despu√©s" (Debajo, completamente visible) -->
                        <img
                            src={alaciado.src}
                            alt="Despu√©s"
                            class="absolute top-0 left-0 w-full h-full object-cover"
                        />

                        <!-- Imagen del "Antes" (Encima, recortada con clip-path) -->
                        <img
                            src={botox.src}
                            alt="Antes"
                            id="beforeImage"
                            class="absolute top-0 left-0 w-full h-full object-cover"
                            style="clip-path: inset(0 50% 0 0);"
                        />

                        <!-- L√≠nea divisoria (Deslizador) -->
                        <div
                            id="slider"
                            class="absolute top-0 left-1/2 transform -translate-x-1/2 w-1 h-full bg-white cursor-ew-resize"
                            style="z-index: 10;"
                        >
                        </div>
                    </div>
                </div>
            </div>
            <script>
                const slider = document.getElementById("slider");
                const beforeImage = document.getElementById("beforeImage");
                const container = slider.parentElement;
              
                let isDragging = false;
              
                // Inicia el arrastre (mouse o touch)
                const startDrag = (e) => {
                  isDragging = true;
                  moveSlider(e);
                };
              
                // Termina el arrastre
                const endDrag = () => (isDragging = false);
              
                // Mueve el deslizador (mouse o touch)
                const moveSlider = (e) => {
                  if (!isDragging) return;
              
                  const rect = container.getBoundingClientRect();
                  let offsetX;
              
                  // Detectar si es touch o mouse
                  if (e.touches) {
                    offsetX = e.touches[0].clientX - rect.left;
                  } else {
                    offsetX = e.clientX - rect.left;
                  }
              
                  // Limitar el movimiento del slider entre los bordes del contenedor
                  if (offsetX < 0) offsetX = 0;
                  if (offsetX > rect.width) offsetX = rect.width;
              
                  // Actualizar posici√≥n del slider
                  slider.style.left = `${offsetX}px`;
              
                  // Usar clip-path para recortar la imagen superior
                  beforeImage.style.clipPath = `inset(0 ${rect.width - offsetX}px 0 0)`;
                };
              
                // Eventos para mouse
                slider.addEventListener("mousedown", startDrag);
                window.addEventListener("mouseup", endDrag);
                window.addEventListener("mousemove", moveSlider);
              
                // Eventos para touch
                slider.addEventListener("touchstart", startDrag);
                window.addEventListener("touchend", endDrag);
                window.addEventListener("touchmove", moveSlider);
              </script>
        </div>
        <!-- Otros productos -->
        <div class="max-w-screen-lg mx-auto pb-12 px-4">
            <h2 class="text-2xl font-medium text-gray-800 mb-8">
                Otros Productos
            </h2>

            <div class="grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
                <!-- Producto relacionado -->
                <div
                    class="bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300"
                >
                    <img
                        src="https://media.wapastudio.com/keratina-dashboard-tienda.webp"
                        alt="Semi Permanente"
                        class="w-full h-40 object-cover rounded-t-xl"
                    />
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">
                            Semi Permanente
                        </h3>
                        <p class="text-sm text-gray-600 mb-4">
                            Tratamiento de alisado semi permanente para un
                            cabello suave y brillante.
                        </p>
                        <a
                            href="#"
                            class="inline-block px-4 py-2 bg-[#917763] text-white text-sm font-medium rounded hover:bg-[#6A5341]"
                        >
                            Ver m√°s
                        </a>
                    </div>
                </div>

                <!-- Agrega m√°s productos relacionados si es necesario -->
            </div>
        </div>
    </section>
</Layout>
