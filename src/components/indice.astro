<section class="max-w-lg relative">
    <!-- Dropdown Principal -->
    <details class="dropdown p-6 rounded-lg bg-white/95" id="main-dropdown">
        <summary
            class="flex items-start justify-between cursor-pointer text-xl font-semibold select-none border-b border-gray-300 pb-4 marker:content-none"
        >
            <span >Ver índice</span>
            <svg
                class="w-5 h-5 transform transition-transform duration-300 hidden lg:block"
                id="main-angle"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
            >
                <path d="M19 9l-7 7-7-7"></path>
            </svg>
        </summary>

        <!-- Contenido del índice -->
        <div class="absolute left-0 right-0 sm:left-0 sm:right-0 bg-white p-6 rounded-lg space-y-4">
            <!-- ¿Qué son los alisados? -->
            <ul class=" list-none text-gray-800 space-y-2 ">
                <li>
                    <a
                        href="#que-son-los-alisados"
                        class="hover:underline text-gray-500 border-b border-gray-300 pb-2 w-full block"
                        >¿Qué son los alisados?</a>
                </li>
                <li>
                    <a
                        href="#origen-de-los-alisados"
                        class="hover:underline text-gray-500 "
                        >Origen de los alisados</a>
                </li>
            </ul>

            <!-- Sub-dropdown: Tema 1 - Tricología cosmética -->
            <details class="dropdown" id="dropdown-1">
                <summary
                    class="flex items-center justify-between cursor-pointer font-medium text-lg marker:content-none"
                >
                    <span>1 - Tricología cosmética</span>
                    <svg
                        class="w-4 h-4 transition-transform duration-300 hidden lg:block"
                        id="angle-1"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                    >
                        <path d="M19 9l-7 7-7-7"></path>
                    </svg>
                </summary>
                <ul class="pl-6 mt-4 list-none text-gray-700 space-y-3 text-sm">
                    <li>
                        <a
                            href="#estructura-del-cabello"
                            class="hover:underline  text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Estructura del cabello</a>
                    </li>
                    <li>
                        <a
                            href="#puentes-estructurales"
                            class="hover:underline  text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Puentes estructurales</a>
                    </li>
                    <li>
                        <a
                            href="#modificacion-de-los-puentes"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >¿Cómo se modifican los puentes?</a>
                    </li>
                    <li>
                        <a
                            href="#danio-a-la-cuticula"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Daño a la cutícula</a>
                    </li>
                    <li>
                        <a
                            href="#potencial-hidrogeno"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Potencial de hidrógeno (pH)</a>
                    </li>
                    <li>
                        <a
                            href="#porosidad-del-cabello"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Porosidad del cabello</a>
                    </li>
                    <li>
                        <a
                            href="#tipo-de-dano"
                            class="hover:underline text-gray-500 pb-2 w-full block"
                            >Tipo de daño en el cabello</a>
                    </li>
                </ul>
            </details>

            <!-- Sub-dropdown: Tema 2 - Diagnóstico capilar -->
            <details class="dropdown" id="dropdown-2">
                <summary
                    class="flex items-center justify-between cursor-pointer font-medium text-lg "
                >
                    <span>2 - Diagnóstico capilar</span>
                    <svg
                        class="w-4 h-4 transition-transform duration-300 hidden lg:block"
                        id="angle-2"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                    >
                        <path d="M19 9l-7 7-7-7"></path>
                    </svg>
                </summary>
                <ul class="pl-6 mt-4 list-none text-gray-700 space-y-3 text-sm">
                    <li>
                        <a
                            href="#estado-del-cabello"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Estado del cabello</a>
                    </li>
                    <li>
                        <a
                            href="#porosidad"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block">Porosidad</a>
                    </li>
                    <li>
                        <a
                            href="#elasticidad-del-cabello"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Elasticidad del cabello</a>
                    </li>
                    <li>
                        <a
                            href="#grosor-textura"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Grosor y textura</a>
                    </li>
                    <li>
                        <a
                            href="#tipos-de-cabello"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Tipos de cabello y sus categorías</a>
                    </li>
                    <li>
                        <a
                            href="#procesos-quimicos"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Procesos químicos</a>
                    </li>
                </ul>
            </details>

            <!-- Sub-dropdown: Tema 3 - Alisados -->
            <details class="dropdown" id="dropdown-3">
                <summary
                    class="flex items-center justify-between cursor-pointer font-medium text-lg"
                >
                    <span>3 - Alisados</span>
                    <svg
                        class="w-4 h-4 transition-transform duration-300 hidden lg:block"
                        id="angle-3"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                    >
                        <path d="M19 9l-7 7-7-7"></path>
                    </svg>
                </summary>
                <ul class="pl-6 mt-4 list-none text-gray-700 space-y-3">
                    <li>
                        <a
                            href="#tipos-de-activos"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Tipos de activos alisantes</a>
                    </li>
                    <li>
                        <a
                            href="#productos-cotidianos"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Productos de uso cotidiano para el alisado</a>
                    </li>
                    <li>
                        <a
                            href="#herramientas-necesarias"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Herramientas necesarias</a>
                    </li>
                    <li>
                        <a
                            href="#paso-a-paso"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Paso a paso de un alisado</a>
                    </li>
                    <li>
                        <a
                            href="#cuidados-posteriores"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Cuidados posteriores</a>
                    </li>
                    <li>
                        <a
                            href="#ficha-tecnica"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Ficha técnica del cliente</a>
                    </li>
                    <li>
                        <a
                            href="#conoce-nuestros-productos"
                            class="hover:underline text-gray-500 border-b border-gray-300 pb-3 w-full block"
                            >Conoce nuestros productos</a>
                    </li>
                    <li>
                        <a
                            href="#precio-recomendado"
                            class="hover:underline text-gray-500 pb-3 w-full block"
                            >Precio recomendado</a>
                    </li>
                </ul>
            </details>
        </div>
    </details>
</section>

<script>
    // Selección de todos los dropdowns de los subíndices (no el principal)
    const dropdowns = document.querySelectorAll(".dropdown");

    // Iteramos sobre cada dropdown
    dropdowns.forEach((dropdown) => {
        const summary = dropdown.querySelector("summary");
        const angle = dropdown.querySelector("svg");

        // Añadimos el listener al click sobre el summary
        summary.addEventListener("click", () => {
            // Cerrar otros dropdowns de subíndices (pero no el principal)
            dropdowns.forEach((d) => {
                if (
                    d !== dropdown &&
                    d !== document.getElementById("main-dropdown") &&
                    d.hasAttribute("open")
                ) {
                    d.removeAttribute("open");
                    d.querySelector("svg").style.transform = "rotate(0deg)";
                }
            });

            // Toggle para el estado abierto/cerrado del dropdown actual
            const isOpen = dropdown.hasAttribute("open");

            // Controlar la rotación de la flecha
            angle.style.transform = isOpen ? "rotate(0deg)" : "rotate(180deg)";
        });
    });
</script>
