<section class="py=8">
    <!--2. Adentrémonos en el tallo del cabello: -->
    <div class="relative py-3 lg:py-5" id="tallo-del-cabello">
        <div class="basis-1/2 space-y-4">
            <!-- Título principal -->
            <h2 class="text-2xl font-bold text-gray-800">
                2. Adentrémonos en el tallo del cabello:
            </h2>
            <div class="hidden: sm:block">
                <img
                    src="https://media.wapastudio.com/tallo-manual.jpg"
                    alt=""
                />
            </div>
            <!-- Párrafo introductorio -->
            <p class="text-gray-600">
                El tallo del cabello está compuesto por tres capas principales:
                la <strong>médula</strong>, el <strong>córtex</strong> y la <strong
                    >cutícula</strong
                >, y cada una cumple una función esencial para su estructura,
                fortaleza y apariencia.
            </p>

            <div id="custom-dropdowns-tallo" class="space-y-4">
                <div class="custom-dropdown">
                    <div
                        class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                        tabindex="0"
                        data-dropdown="medula"
                    >
                        <span class="text-base">Médula</span>
                        <svg
                            class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                            viewBox="0 0 24 24"
                            fill="none"
                        >
                            <path
                                d="M8 5l8 7-8 7"
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </div>
                    <div
                        class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                        style="display: none;"
                        data-content="medula"
                    >
                        <p>
                            Es la capa más interna del cabello. Está formada por
                            células suaves y queratina, es por ello que la
                            mayoría de productos alisantes contienen queratina.
                        </p>
                    </div>
                </div>
                <div class="custom-dropdown">
                    <div
                        class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                        tabindex="0"
                        data-dropdown="cortex"
                    >
                        <span class="text-base">Córtex</span>
                        <svg
                            class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                            viewBox="0 0 24 24"
                            fill="none"
                        >
                            <path
                                d="M8 5l8 7-8 7"
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </div>
                    <div
                        class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                        style="display: none;"
                        data-content="cortex"
                    >
                        <div>
                            <p>
                                Es la capa central y más importante, ya que
                                representa la mayor parte del cabello. Está
                                compuesto por fibras de queratina, responsables
                                de su fuerza, elasticidad y flexibilidad. Aquí
                                se encuentra la <strong>melanina</strong>, que
                                determina el color natural del cabello. Además,
                                el córtex es clave en la resistencia del cabello
                                y es la capa donde se realizan cambios con
                                tratamientos químicos, como tintes o alisados,
                                ya que aquí se encuentran los puentes
                                estructurales.
                            </p>
                            <p class="font-semibold mt-4">
                                ¿Qué son estos puentes?
                            </p>
                            <p>
                                Los puentes estructurales del cabello son las
                                uniones químicas que mantienen la forma, fuerza
                                y elasticidad de la fibra capilar. Hay tres
                                tipos principales:
                            </p>
                            <div
                                id="custom-dropdowns-puentes"
                                class="space-y-2"
                            >
                                <div class="custom-dropdown">
                                    <div
                                        class="px-2 custom-summary flex items-center justify-between cursor-pointer text-base font-medium py-2 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                        tabindex="0"
                                        data-dropdown="hidrogeno"
                                    >
                                        <span>1. Puentes de hidrógeno</span>
                                        <svg
                                            class="custom-angle w-4 h-4 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                            viewBox="0 0 24 24"
                                            fill="none"
                                        >
                                            <path
                                                d="M8 5l8 7-8 7"
                                                stroke="currentColor"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"></path>
                                        </svg>
                                    </div>
                                    <div
                                        class="custom-list my-1 ml-4 pl-2 pr-2 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                        style="display: none;"
                                        data-content="hidrogeno"
                                    >
                                        <p>
                                            <strong>Cómo funcionan:</strong> Se forman
                                            y rompen fácilmente con la humedad. Por
                                            ejemplo, cuando mojas el cabello estos
                                            enlaces se rompen. Una vez seco, los
                                            enlaces se forman de nuevo, volviendo
                                            el cabello a su estado natural.
                                        </p>
                                        <p>
                                            <strong>Importante:</strong>
                                            Son los más débiles, pero hay muchos,
                                            lo que contribuye a la estructura general
                                            del cabello.
                                        </p>
                                    </div>
                                </div>
                                <div class="custom-dropdown">
                                    <div
                                        class="px-2 custom-summary flex items-center justify-between cursor-pointer text-base font-medium py-2 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                        tabindex="0"
                                        data-dropdown="salinos"
                                    >
                                        <span>2. Puentes salinos o iónicos</span
                                        >
                                        <svg
                                            class="custom-angle w-4 h-4 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                            viewBox="0 0 24 24"
                                            fill="none"
                                        >
                                            <path
                                                d="M8 5l8 7-8 7"
                                                stroke="currentColor"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"></path>
                                        </svg>
                                    </div>
                                    <div
                                        class="custom-list my-1 ml-4 pl-2 pr-2 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                        style="display: none;"
                                        data-content="salinos"
                                    >
                                        <p>
                                            <strong>Cómo funcionan:</strong> Estos
                                            se rompen con calor como cuando pasas
                                            la plancha. El cabello durará liso hasta
                                            que lo laves de nuevo.
                                        </p>
                                        <p>
                                            <strong>Importante:</strong>
                                            Son más fuertes que los puentes de hidrógeno,
                                            pero más débiles que los disulfuro.
                                        </p>
                                    </div>
                                </div>
                                <div class="custom-dropdown">
                                    <div
                                        class="px-2 custom-summary flex items-center justify-between cursor-pointer text-base font-medium py-2 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                                        tabindex="0"
                                        data-dropdown="disulfuro"
                                    >
                                        <span>3. Puentes de disulfuro</span>
                                        <svg
                                            class="custom-angle w-4 h-4 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                                            viewBox="0 0 24 24"
                                            fill="none"
                                        >
                                            <path
                                                d="M8 5l8 7-8 7"
                                                stroke="currentColor"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"></path>
                                        </svg>
                                    </div>
                                    <div
                                        class="custom-list my-1 ml-4 pl-2 pr-2 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                                        style="display: none;"
                                        data-content="disulfuro"
                                    >
                                        <p>
                                            <strong>Cómo funcionan:</strong> Son
                                            responsables de la fuerza y forma permanente
                                            del cabello (liso, ondulado o rizado).
                                            Estos enlaces solo pueden romperse con
                                            productos químicos fuertes, como tintes,
                                            permanentes o alisados químicos. Al romperlos,
                                            se puede cambiar la estructura del cabello
                                            de forma duradera.
                                        </p>
                                        <p>
                                            <strong>Importante:</strong>
                                            Son los más fuertes y cruciales para
                                            la salud del cabello. Si se dañan, el
                                            cabello se debilita significativamente.
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <script>
                                // @ts-nocheck
                                document.addEventListener(
                                    "DOMContentLoaded",
                                    () => {
                                        const dropdowns =
                                            document.querySelectorAll(
                                                "#custom-dropdowns-puentes .custom-summary",
                                            );
                                        dropdowns.forEach((summary) => {
                                            summary.addEventListener(
                                                "click",
                                                function () {
                                                    const key =
                                                        summary.getAttribute(
                                                            "data-dropdown",
                                                        );
                                                    const content =
                                                        document.querySelector(
                                                            `[data-content="${key}"]`,
                                                        );
                                                    const angle =
                                                        summary.querySelector(
                                                            ".custom-angle",
                                                        );

                                                    document
                                                        .querySelectorAll(
                                                            "#custom-dropdowns-puentes .custom-list",
                                                        )
                                                        .forEach((el) => {
                                                            if (el !== content)
                                                                el.style.display =
                                                                    "none";
                                                        });
                                                    document
                                                        .querySelectorAll(
                                                            "#custom-dropdowns-puentes .custom-angle",
                                                        )
                                                        .forEach((el) => {
                                                            if (el !== angle)
                                                                el.style.transform =
                                                                    "";
                                                        });

                                                    if (
                                                        content.style
                                                            .display ===
                                                            "none" ||
                                                        !content.style.display
                                                    ) {
                                                        content.style.display =
                                                            "block";
                                                        angle.style.transform =
                                                            "rotate(90deg)";
                                                    } else {
                                                        content.style.display =
                                                            "none";
                                                        angle.style.transform =
                                                            "";
                                                    }
                                                },
                                            );

                                            summary.addEventListener(
                                                "keydown",
                                                function (e) {
                                                    if (
                                                        e.key === "Enter" ||
                                                        e.key === " "
                                                    ) {
                                                        e.preventDefault();
                                                        summary.click();
                                                    }
                                                },
                                            );
                                        });
                                    },
                                );
                            </script>

                            <p class="pt-2">
                                <strong>¿Cómo se modifican?</strong><br />
                                Estos enlaces se alteran mediante procesos químicos
                                como la decoloración o los alisados alcalinos (alisados
                                permanentes). En contraste, los alisados ácidos (alisados
                                progresivos) no rompen los enlaces de disulfuro,
                                sino que los transforman.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="custom-dropdown">
                    <div
                        class="px-4 custom-summary flex items-center justify-between cursor-pointer text-[1.15rem] font-semibold py-3 text-[#222] transition-colors duration-200 outline-none rounded-lg select-none focus:text-yellow-600 focus:bg-[#fefaf3] hover:text-yellow-600 hover:bg-[#fefaf3]"
                        tabindex="0"
                        data-dropdown="cuticula"
                    >
                        <span class="text-base">Cutícula</span>
                        <svg
                            class="custom-angle w-5 h-5 stroke-yellow-500 stroke-[2.5] flex-shrink-0 transition-transform duration-300"
                            viewBox="0 0 24 24"
                            fill="none"
                        >
                            <path
                                d="M8 5l8 7-8 7"
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"></path>
                        </svg>
                    </div>
                    <div
                        class="custom-list my-2 ml-6 pl-4 pr-4 text-slate-600 text-base leading-7 border-l-2 border-slate-200"
                        style="display: none;"
                        data-content="cuticula"
                    >
                        <div class="space-y-3">
                            <p>
                                Es la capa externa del cabello y está formada
                                por células planas, escamosas y transparentes
                                que se superponen unas sobre otras como las
                                tejas de un techo.
                            </p>
                            <img
                                src="https://media.wapastudio.com/cuticula-manual.jpg"
                                alt=""
                            />
                            <p>
                                Su principal función es proteger las capas
                                internas del cabello. La cutícula es la que da
                                brillo al cabello y, cuando está sana, refleja
                                la luz. Si las células de la cutícula están bien
                                alineadas y no están dañadas, el cabello se ve
                                suave y brillante.
                            </p>
                            <p>
                                <strong>Daño a la cutícula:</strong> Si la cutícula
                                se daña, las células se levantan, lo que puede hacer
                                que el cabello se vea opaco, áspero o incluso quebradizo.
                                El daño puede ser causado por el uso excesivo de
                                calor, productos químicos, peinado agresivo, entre
                                otros.
                            </p>
                            <p>
                                Cuando se realiza un alisado, el producto
                                necesita llegar al córtex (la capa interna del
                                cabello) para modificar su estructura. Para que
                                esto ocurra, el producto debe penetrar la
                                cutícula, que es la capa externa del cabello. Si
                                la cutícula está levantada (cabello con
                                porosidad alta), el producto puede entrar más
                                fácilmente en el córtex, pero el alisado tendrá
                                menor duración.
                            </p>
                            <p>
                                Por otro lado, si la cutícula está cerrada o
                                sellada, será más difícil que el producto entre
                                en el córtex. Sin embargo, esto no significa que
                                sea imposible. Solo necesitamos preparar el
                                cabello adecuadamente para que el producto pueda
                                penetrar y lograr un buen resultado.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                // @ts-nocheck
                // El problema es que al abrir un hijo, el script de los padres (nivel #custom-dropdowns-tallo)
                // cierra todos los .custom-list que no sean el hijo actual, incluyendo el padre.
                // Esto ocurre porque el selector "#custom-dropdowns-tallo .custom-list" selecciona todos los hijos y nietos.
                // Así, al abrir un hijo, el padre se cierra porque su .custom-list también es afectado.

                // Solución: Solo cerrar los hermanos directos del mismo nivel, no todos los descendientes.
                // Usar parentElement para limitar el cierre a los hermanos directos.

                document.addEventListener("DOMContentLoaded", () => {
                    // Script para dropdowns de #custom-dropdowns-tallo
                    const talloDropdowns = document.querySelectorAll(
                        "#custom-dropdowns-tallo .custom-summary",
                    );
                    talloDropdowns.forEach((summary) => {
                        summary.addEventListener("click", function () {
                            const key = summary.getAttribute("data-dropdown");
                            const dropdown = summary.closest('.custom-dropdown');
                            const content = dropdown.querySelector('.custom-list');
                            const angle = summary.querySelector(".custom-angle");
                            // Cerrar solo hermanos directos
                            const siblings = dropdown.parentElement.querySelectorAll(':scope > .custom-dropdown');
                            siblings.forEach((sibling) => {
                                if (sibling !== dropdown) {
                                    const siblingContent = sibling.querySelector('.custom-list');
                                    const siblingAngle = sibling.querySelector('.custom-angle');
                                    if (siblingContent) siblingContent.style.display = "none";
                                    if (siblingAngle) siblingAngle.style.transform = "";
                                }
                            });
                            // Toggle actual
                            if (content.style.display === "none" || !content.style.display) {
                                content.style.display = "block";
                                angle.style.transform = "rotate(90deg)";
                            } else {
                                content.style.display = "none";
                                angle.style.transform = "";
                            }
                        });
                        summary.addEventListener(
                            "keydown",
                            function (e) {
                                if (e.key === "Enter" || e.key === " ") {
                                    e.preventDefault();
                                    (summary as HTMLElement).click();
                                }
                            },
                        );
                    });

                    // Script para dropdowns de #custom-dropdowns-puentes (si existen)
                    const puentesDropdowns = document.querySelectorAll(
                        "#custom-dropdowns-puentes .custom-summary",
                    );
                    puentesDropdowns.forEach((summary) => {
                        summary.addEventListener("click", function () {
                            const key = summary.getAttribute("data-dropdown");
                            const dropdown = summary.closest('.custom-dropdown');
                            const content = dropdown.querySelector('.custom-list');
                            const angle = summary.querySelector(".custom-angle");
                            // Cerrar solo hermanos directos
                            const siblings = dropdown.parentElement.querySelectorAll(':scope > .custom-dropdown');
                            siblings.forEach((sibling) => {
                                if (sibling !== dropdown) {
                                    const siblingContent = sibling.querySelector('.custom-list');
                                    const siblingAngle = sibling.querySelector('.custom-angle');
                                    if (siblingContent) siblingContent.style.display = "none";
                                    if (siblingAngle) siblingAngle.style.transform = "";
                                }
                            });
                            // Toggle actual
                            if (content.style.display === "none" || !content.style.display) {
                                content.style.display = "block";
                                angle.style.transform = "rotate(90deg)";
                            } else {
                                content.style.display = "none";
                                angle.style.transform = "";
                            }
                        });
                        summary.addEventListener(
                            "keydown",
                            function (e) {
                                if (e.key === "Enter" || e.key === " ") {
                                    e.preventDefault();
                                    (summary as HTMLElement).click();
                                }
                            },
                        );
                    });
                });
            </script>

            <p class="text-sm text-gray-500 italic">
                En conjunto, estas tres capas trabajan para mantener el cabello
                fuerte, flexible y protegido. Por eso, es fundamental cuidar
                especialmente la cutícula, ya que una cutícula en buen estado no
                solo mejora la apariencia del cabello, sino que también protege
                su interior y ayuda a conservar su salud.
            </p>
        </div>
    </div>
</section>
